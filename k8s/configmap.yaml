---
apiVersion: v1
kind: ConfigMap
metadata:
  name: crm-config
  labels:
    app: crm
data:
  # Application configuration
  NODE_ENV: "production"
  
  # Backend configuration
  BACKEND_PORT: "8888"
  
  # Database configuration (connection string uses service name)
  DB_HOST: "mongodb"
  DB_PORT: "27017"
  DB_NAME: "idurar"
  
  # API configuration
  API_BASE_URL: "/api"
  
  # Add other non-sensitive configuration here
  # CORS_ORIGIN: "https://your-domain.com"
  # MAX_FILE_SIZE: "10485760"

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: mongodb-init
  labels:
    app: mongodb
data:
  init-mongo.js: |
    // MongoDB initialization script
    // This script runs when the database is first created
    
    db = db.getSiblingDB('idurar');
    
    // Create collections if needed
    db.createCollection('settings');
    db.createCollection('users');
    
    print('MongoDB initialization completed');
